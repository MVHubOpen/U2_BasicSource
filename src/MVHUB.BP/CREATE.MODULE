    PROGRAM CREATE.MODULE
*-------------------------------------------------------
* mvHubOpen, copyright (c) by James F Thompson
* Distributed under an MIT license:
*                    https://opensource.org/licenses/MIT
*-------------------------------------------------------
    INCLUDE MVHUB.BP MVHUB.MAP.INCLUDE
*
    OPEN "MVHUB.MODULE" TO F.MODULE ELSE
        EXECUTE "ICREATE-FILE DATA MVHUB.MODULE 18 101 4"
        EXECUTE "ICREATE-FILE DICT MVHUB.MODULE 18 11 4"
        EXECUTE "ICREATE-FILE DATA MVHUB.MODULE,BASE 19"
        OPEN "MVHUB.MODULE" TO F.MODULE ELSE
            STOP "UNABLE TO CREATE MODULE FILE"
        END
    END
*
    OPEN "MVHUB.MODULE,BASE" TO F.BASE ELSE
        EXECUTE "ICREATE-FILE DATA MVHUB.MODULE,BASE 19"
        OPEN "MVHUB.MODULE,BASE" TO F.BASE ELSE
            STOP "UNABLE TO CREATE MODULE BASE FILE"
        END
    END
*
    MODULE.ID=UPCASE(TRIM(SEN<2>))
    MODULE.TITLE=SEN<3>
*
    IF LEN(MODULE.ID)<5 THEN
        CRT "Please pick a better name for module"
        STOP
    END
*
    READ MODULE.REC FROM F.MODULE,MODULE.ID ELSE MODULE.REC=""
    IF MODULE.TITLE#"" THEN MODULE.REC<MODULE$TITLE>=MODULE.TITLE
    IF MODULE.REC<MODULE$TITLE>="" THEN MODULE.REC<MODULE$TITLE>="[AUTO TITLE] ":MODULE.ID
*
    IF MODULE.REC<MODULE$JSNAME>="" THEN
        WORK.NAME=MODULE.ID ; GOSUB BLD.JSON.NAME
        MODULE.REC<MODULE$JSNAME>=JSON.NAME
    END
*
    WRITE MODULE.REC ON F.MODULE,MODULE.ID
*
    CLOSE F.MODULE ; CLOSE F.JAVASCRIPT ; CLOSE F.VIEWS
*
    CRT "Module ":MODULE.ID:" - ":MODULE.REC<MODULE$TITLE>:" created"
*
    OPEN "MVHUB.MODULE,BASE" TO F.BASE ELSE STOPM "MVHUB.MODULE,BASE"
*
    BJS="// ":MODULE.REC<1>
    BJS<-1>="// Created ":TIMEDATE()
*
    JNAME=MODULE.REC<2>
    BJS<-1>=@AM:"var ":JNAME:" = angular.module('":JNAME:"Services', ['mvHubServices']);"
    BJS<-1>=@AM:JNAME:".run(function(){"
    BJS<-1>="});"
*
    BASE.ID=DOWNCASE(MODULE.ID):".js"
    WRITE BJS ON F.BASE,MODULE.ID
*
    STOP
